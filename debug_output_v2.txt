Starting Negotiation Test...

[Mock LLM Call] Prompt length: 547
[Mock LLM Call] Default: {'action': 'WITHDRAW', 'offer_price': 0, 'reason': 'LLM Error'}

[Mock LLM Call] Prompt length: 593
[Mock LLM Call] Default: {'action': 'REJECT', 'counter_price': 0, 'reason': 'LLM Error'}

[Mock LLM Call] Prompt length: 738
[Mock LLM Call] Default: {'action': 'WITHDRAW', 'offer_price': 0, 'reason': 'LLM Error'}

[Mock LLM Call] Prompt length: 786
[Mock LLM Call] Default: {'action': 'REJECT', 'counter_price': 0, 'reason': 'LLM Error'}

[Mock LLM Call] Prompt length: 931
[Mock LLM Call] Default: {'action': 'WITHDRAW', 'offer_price': 0, 'reason': 'LLM Error'}

[Mock LLM Call] Prompt length: 979
[Mock LLM Call] Default: {'action': 'REJECT', 'counter_price': 0, 'reason': 'LLM Error'}

Result: {
  "outcome": "failed",
  "reason": "Max rounds reached",
  "history": [
    {
      "round": 1,
      "party": "buyer",
      "action": "OFFER",
      "price": 5000000.0,
      "content": "Buyer Offer"
    },
    {
      "round": 1,
      "party": "seller",
      "action": "OFFER",
      "price": 5500000,
      "content": "Buyer Offer"
    },
    {
      "round": 2,
      "party": "buyer",
      "action": "OFFER",
      "price": 5000000.0,
      "content": "Buyer Offer"
    },
    {
      "round": 2,
      "party": "seller",
      "action": "OFFER",
      "price": 5500000,
      "content": "Buyer Offer"
    },
    {
      "round": 3,
      "party": "buyer",
      "action": "OFFER",
      "price": 5000000.0,
      "content": "Buyer Offer"
    },
    {
      "round": 3,
      "party": "seller",
      "action": "OFFER",
      "price": 5500000,
      "content": "Buyer Offer"
    }
  ],
  "final_price": 0
}
Traceback (most recent call last):
  File "D:\GitProj\oasis-main\debug_negotiation.py", line 97, in test_negotiation
    print("\u274c FAILED")
    ~~~~~^^^^^^^^^^^^^
UnicodeEncodeError: 'gbk' codec can't encode character '\u274c' in position 0: illegal multibyte sequence

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\GitProj\oasis-main\debug_negotiation.py", line 105, in <module>
    asyncio.run(test_negotiation())
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.3312.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.3312.0_x64__qbz5n2kfra8p0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.3312.0_x64__qbz5n2kfra8p0\Lib\asyncio\base_events.py", line 725, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "D:\GitProj\oasis-main\debug_negotiation.py", line 99, in test_negotiation
    print(f"\u274c EXCEPTION: {e}")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'gbk' codec can't encode character '\u274c' in position 0: illegal multibyte sequence
